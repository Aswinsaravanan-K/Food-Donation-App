<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShareBite - Fight Hunger, Reduce Waste</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Leaflet CSS for maps -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        :root {
            --primary: #4CAF50;
            --primary-dark: #388E3C;
            --secondary: #FF9800;
            --dark: #333;
            --light: #f9f9f9;
            --gray: #ddd;
            --danger: #f44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            align-items: center;
        }

        .nav-links li {
            margin-left: 20px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
            margin-left: 20px;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            opacity: 0.9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            height: 80vh;
            display: flex;
            align-items: center;
            text-align: center;
            color: white;
            margin-top: 70px;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 20px;
            margin-bottom: 30px;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        section {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .section-title p {
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-icon {
            font-size: 50px;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .feature-card h3 {
            font-size: 22px;
            margin-bottom: 15px;
        }

        .stats {
            background-color: var(--primary);
            color: white;
            text-align: center;
            padding: 60px 0;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
        }

        .stat-item h3 {
            font-size: 50px;
            margin-bottom: 10px;
        }

        .stat-item p {
            font-size: 18px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            position: relative;
            animation: modalopen 0.5s;
        }

        .tracking-modal .modal-content {
            max-width: 800px;
        }

        @keyframes modalopen {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 30px;
            cursor: pointer;
            color: #aaa;
        }

        .close:hover {
            color: var(--dark);
        }

        .modal h2 {
            margin-bottom: 20px;
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--gray);
            border-radius: 5px;
            font-size: 16px;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }

        .map-container {
            height: 300px;
            margin-top: 20px;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }

        #map, #donorMap, #fetcherMap, #trackingMap {
            height: 100%;
            width: 100%;
        }

        .location-search {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1000;
            width: calc(100% - 20px);
            display: flex;
        }

        .location-search input {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 3px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .location-search button {
            padding: 10px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 0 3px 3px 0;
            cursor: pointer;
        }

        .donations {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .donation-card {
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .donation-img {
            height: 200px;
            background-size: cover;
            background-position: center;
        }

        .donation-info {
            padding: 20px;
        }

        .donation-info h3 {
            margin-bottom: 10px;
            color: var(--primary);
        }

        .donation-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #666;
        }

        .donation-distance {
            background-color: var(--primary);
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 14px;
        }

        .donation-contact {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #eee;
        }

        .donation-contact p {
            margin-bottom: 5px;
            font-size: 14px;
        }

        .donation-contact a {
            color: var(--primary);
            text-decoration: none;
        }

        footer {
            background-color: var(--dark);
            color: white;
            padding: 50px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }

        .footer-links a {
            color: #bbb;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: white;
        }

        .social-links {
            display: flex;
            gap: 15px;
        }

        .social-links a {
            color: white;
            font-size: 20px;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            color: #bbb;
            font-size: 14px;
        }

        /* Tracking specific styles */
        .tracking-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .tracking-status {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-weight: 500;
        }
        
        .driver-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .driver-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .route-info {
            margin-top: 20px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 5px;
        }

        /* Auth modal tabs */
        .auth-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .auth-tab {
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
        }

        .auth-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-links {
                display: none;
            }

            .tracking-info {
                flex-direction: column;
                gap: 10px;
            }

            .auth-buttons {
                display: none;
            }
        }

        /* Custom marker icons */
        .user-icon {
            background-color: var(--primary);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .driver-icon {
            background-color: var(--secondary);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .donation-icon {
            background-color: #2196F3;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <i class="fas fa-utensils"></i>
                    <span>ShareBite</span>
                </div>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="#donations">Donations</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <div class="auth-buttons">
                        <button class="btn btn-outline" onclick="openModal('login')">Login</button>
                        <button class="btn btn-primary" onclick="openModal('signup')">Sign Up</button>
                    </div>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Fight Hunger, Reduce Waste</h1>
            <p>Connect with people in your community to share excess food and help those in need. Together we can make a difference.</p>
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="openModal('donate')">Donate Food</button>
                <button class="btn btn-secondary" onclick="openModal('fetch')">Find Food</button>
            </div>
        </div>
    </section>

    <section id="about">
        <div class="container">
            <div class="section-title">
                <h2>About ShareBite</h2>
                <p>We are a team of passionate individuals committed to addressing the issue of food waste in India. Our goal is to create a system that connects food donors with charities and NGOs, while also reducing the environmental impact of food waste.</p>
            </div>
        </div>
    </section>

    <section class="stats">
        <div class="container">
            <div class="stats-container">
                <div class="stat-item">
                    <h3>50M+</h3>
                    <p>People Facing Hunger</p>
                </div>
                <div class="stat-item">
                    <h3>40%</h3>
                    <p>Food Wasted in India</p>
                </div>
                <div class="stat-item">
                    <h3>10K+</h3>
                    <p>Meals Shared</p>
                </div>
                <div class="stat-item">
                    <h3>500+</h3>
                    <p>Active Volunteers</p>
                </div>
            </div>
        </div>
    </section>

    <section id="how-it-works">
        <div class="container">
            <div class="section-title">
                <h2>How It Works</h2>
                <p>Simple steps to share food and help your community</p>
            </div>
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-upload"></i>
                    </div>
                    <h3>1. Donate</h3>
                    <p>Register as a donor and post details about the food you want to share. Provide information about type, quantity, and pickup time.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3>2. Locate</h3>
                    <p>Our system matches your donation with nearby NGOs or individuals in need based on location and food requirements.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <h3>3. Connect</h3>
                    <p>Recipients can view your donation and contact you to arrange pickup. You'll receive notifications about the status.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="donations">
        <div class="container">
            <div class="section-title">
                <h2>Recent Donations Near You</h2>
                <p>Here are some recently posted food donations in your area</p>
            </div>
            <div class="donations" id="donations-list">
                <!-- Donation cards will be dynamically inserted here -->
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container">
            <div class="section-title">
                <h2>Contact Us</h2>
                <p>Have questions or suggestions? We'd love to hear from you!</p>
            </div>
            <div class="features">
                <div class="feature-card" onclick="sendEmail()">
                    <div class="feature-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <h3>Email Us</h3>
                    <p>aswinsaravanan.k@gmail.com</p>
                </div>
                <div class="feature-card" onclick="openWhatsApp()">
                    <div class="feature-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <h3>WhatsApp Us</h3>
                    <p>+91 7871043692</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3>Visit Us</h3>
                    <p>123 Social Street,coimbatore, India</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Login/Signup Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('authModal')">&times;</span>
            <h2 id="authModalTitle">Login</h2>
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="switchAuthTab('login')">Login</div>
                <div class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</div>
            </div>
            
            <form id="loginForm" class="auth-form active">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
            </form>
            
            <form id="signupForm" class="auth-form">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="signupPhone">Phone Number</label>
                    <input type="tel" id="signupPhone" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="signupConfirmPassword">Confirm Password</label>
                    <input type="password" id="signupConfirmPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="userType">I want to:</label>
                    <select id="userType" class="form-control" required>
                        <option value="">Select option</option>
                        <option value="donor">Donate Food</option>
                        <option value="receiver">Receive Food</option>
                        <option value="volunteer">Volunteer</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Create Account</button>
            </form>
        </div>
    </div>

    <!-- Donate Modal -->
    <div id="donateModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('donateModal')">&times;</span>
            <h2>Donate Food</h2>
            <form id="donateForm">
                <div class="form-group">
                    <label for="donorName">Your Name</label>
                    <input type="text" id="donorName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="donorEmail">Email</label>
                    <input type="email" id="donorEmail" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="donorPhone">Phone Number</label>
                    <input type="tel" id="donorPhone" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="foodType">Type of Food</label>
                    <select id="foodType" class="form-control" required>
                        <option value="">Select food type</option>
                        <option value="vegetarian">Vegetarian</option>
                        <option value="non-vegetarian">Non-Vegetarian</option>
                        <option value="vegan">Vegan</option>
                        <option value="bakery">Bakery Items</option>
                        <option value="packaged">Packaged Food</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="foodQuantity">Quantity (approx. servings)</label>
                    <input type="number" id="foodQuantity" class="form-control" min="1" required>
                </div>
                <div class="form-group">
                    <label for="pickupTime">Preferred Pickup Time</label>
                    <input type="datetime-local" id="pickupTime" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="donorAddress">Address</label>
                    <textarea id="donorAddress" class="form-control" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>Location</label>
                    <div class="map-container">
                        <div id="donorMap"></div>
                        <div class="location-search">
                            <input type="text" id="donorLocationSearch" placeholder="Search for location...">
                            <button type="button" onclick="searchLocation('donorMap')"><i class="fas fa-search"></i></button>
                        </div>
                    </div>
                    <small>Click on the map or search to mark your exact location</small>
                </div>
                <button type="submit" class="btn btn-primary">Submit Donation</button>
            </form>
        </div>
    </div>

    <!-- Fetch Modal -->
    <div id="fetchModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('fetchModal')">&times;</span>
            <h2>Find Food Near You</h2>
            <form id="fetchForm">
                <div class="form-group">
                    <label for="fetcherName">Your Name</label>
                    <input type="text" id="fetcherName" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="fetcherEmail">Email</label>
                    <input type="email" id="fetcherEmail" class="form-control">
                </div>
                <div class="form-group">
                    <label for="fetcherPhone">Phone Number</label>
                    <input type="tel" id="fetcherPhone" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="fetcherOrg">Organization (if any)</label>
                    <input type="text" id="fetcherOrg" class="form-control">
                </div>
                <div class="form-group">
                    <label for="fetcherAddress">Address</label>
                    <textarea id="fetcherAddress" class="form-control" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>Your Location</label>
                    <div class="map-container">
                        <div id="fetcherMap"></div>
                        <div class="location-search">
                            <input type="text" id="fetcherLocationSearch" placeholder="Search for location...">
                            <button type="button" onclick="searchLocation('fetcherMap')"><i class="fas fa-search"></i></button>
                        </div>
                    </div>
                    <small>Click on the map or search to mark your exact location</small>
                </div>
                <button type="submit" class="btn btn-secondary">Find Food Donations</button>
            </form>
        </div>
    </div>

    <!-- Tracking Modal -->
    <div id="trackingModal" class="modal tracking-modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('trackingModal')">&times;</span>
            <h2>Pickup Tracking</h2>
            
            <div class="map-container">
                <div id="trackingMap"></div>
            </div>
            
            <div class="tracking-info">
                <div>
                    <h3>Your Food Donation</h3>
                    <p id="trackingFoodDetails">Vegetarian Meals (20 servings)</p>
                    <p id="trackingAddress">123 Main St, Bangalore</p>
                </div>
                <div class="tracking-status" id="trackingStatus">On the way</div>
            </div>
            
            <div class="route-info">
                <h4>Route Information</h4>
                <p id="routeDistance">Distance: 2.5 km</p>
                <p id="routeTime">Estimated time: 10 minutes</p>
            </div>
            
            <div class="driver-info">
                <div class="driver-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div>
                    <h4>Pickup Volunteer</h4>
                    <p id="driverName">Rahul Sharma</p>
                    <p id="driverPhone"><i class="fas fa-phone"></i> <a href="tel:+919876543210">+91 98765 43210</a></p>
                    <button class="btn btn-outline" onclick="changeVolunteer()">Change Volunteer</button>
                </div>
            </div>
            
            <div class="action-buttons" style="margin-top: 20px;">
                <button class="btn btn-primary" onclick="completePickup()">Complete Pickup</button>
                <button class="btn btn-outline" onclick="cancelPickup()">Cancel Pickup</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>ShareBite</h3>
                    <p>Connecting surplus food with those in need to reduce hunger and food waste in India.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#how-it-works">How It Works</a></li>
                        <li><a href="#donations">Donations</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Resources</h3>
                    <ul class="footer-links">
                        <li><a href="#">FAQ</a></li>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Volunteer</a></li>
                        <li><a href="#">Partner With Us</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Newsletter</h3>
                    <p>Subscribe to our newsletter to get updates on our initiatives.</p>
                    <form>
                        <div class="form-group">
                            <input type="email" class="form-control" placeholder="Your Email">
                        </div>
                        <button type="submit" class="btn btn-primary">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 ShareBite. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Sample data for donations
        const sampleDonations = [
            {
                id: 1,
                title: "Fresh Vegetarian Meals",
                description: "20 servings of freshly cooked vegetarian meals including rice, dal, and vegetables.",
                type: "vegetarian",
                quantity: 20,
                distance: "0.5 km",
                image: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                time: "Available until 8:00 PM",
                donorName: "Priya ",
                donorPhone: "+91 9876543210",
                donorEmail: "priya.sharma@example.com",
                address: "123 Main Street, Bangalore",
                location: { lat: 12.9716, lng: 77.5946 }
            },
            {
                id: 2,
                title: "Bakery Items",
                description: "Assorted breads and pastries from local bakery. All packed and fresh.",
                type: "bakery",
                quantity: 15,
                distance: "1.2 km",
                image: "https://images.unsplash.com/photo-1509440159596-0249088772ff?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                time: "Available until 10:00 PM",
                donorName: "Bakery Corner",
                donorPhone: "+91 8765432109",
                donorEmail: "bakerycorner@example.com",
                address: "456 Bakery Lane, coimbatore",
                location: { lat: 12.9786, lng: 77.5990 }
            },
            {
                id: 3,
                title: "Packaged Snacks",
                description: "Various packaged snacks and drinks from a corporate event. All sealed and unopened.",
                type: "packaged",
                quantity: 50,
                distance: "2.1 km",
                image: "https://images.unsplash.com/photo-1550583724-b2692b85b150?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",
                time: "Available until tomorrow",
                donorName: "Tech Solutions Inc.",
                donorPhone: "+91 7654321098",
                donorEmail: "events@techsolutions.com",
                address: "789 Tech Park, coimbatore",
                location: { lat: 12.9650, lng: 77.5870 }
            }
        ];

        // Global variables
        let currentLocation = { lat: 12.9716, lng: 77.5946 }; // Default to Bangalore
        let donorMap, fetcherMap, trackingMap;
        let pickupInterval;
        let currentDonationId = null;
        let isLoggedIn = false;
        let donorMarker, driverMarker, routePolyline;
        let currentVolunteer = {
            id: 1,
            name: "Rahul",
            phone: "+91 9876543210",
            location: { lat: 12.9616, lng: 77.5846 }, // Starting location for volunteer
            vehicle: "Bike"
        };
        const volunteers = [
            currentVolunteer,
            {
                id: 2,
                name: "Priya",
                phone: "+91 8765432109",
                location: { lat: 12.9816, lng: 77.6046 },
                vehicle: "Car"
            },
            {
                id: 3,
                name: "Arjun ",
                phone: "+91 7654321098",
                location: { lat: 12.9516, lng: 77.5746 },
                vehicle: "Scooter"
            }
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderDonations();
            
            // Try to get user's current location
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    currentLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                });
            }

            // Form submissions
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                handleLogin();
            });

            document.getElementById('signupForm').addEventListener('submit', function(e) {
                e.preventDefault();
                handleSignup();
            });

            document.getElementById('donateForm').addEventListener('submit', function(e) {
                e.preventDefault();
                handleDonation();
            });

            document.getElementById('fetchForm').addEventListener('submit', function(e) {
                e.preventDefault();
                handleFetcher();
            });
        });

        // Render donation cards
        function renderDonations(donations = sampleDonations) {
            const donationsList = document.getElementById('donations-list');
            donationsList.innerHTML = '';
            
            donations.forEach(donation => {
                const card = document.createElement('div');
                card.className = 'donation-card';
                card.innerHTML = `
                    <div class="donation-img" style="background-image: url('${donation.image}')"></div>
                    <div class="donation-info">
                        <h3>${donation.title}</h3>
                        <div class="donation-meta">
                            <span>${donation.type}</span>
                            <span class="donation-distance">${donation.distance} away</span>
                        </div>
                        <p>${donation.description}</p>
                        <p><strong>Quantity:</strong> ${donation.quantity} servings</p>
                        <p><strong>${donation.time}</strong></p>
                        <div class="donation-contact">
                            <p><strong>Contact:</strong> ${donation.donorName}</p>
                            <p><i class="fas fa-phone"></i> <a href="tel:${donation.donorPhone}">${donation.donorPhone}</a></p>
                            <p><i class="fas fa-envelope"></i> <a href="mailto:${donation.donorEmail}">Email</a></p>
                            <p><i class="fas fa-map-marker-alt"></i> ${donation.address}</p>
                        </div>
                        <button class="btn btn-primary" style="width: 100%; margin-top: 10px;" 
                                onclick="startTracking(${donation.id})">
                            Request Pickup
                        </button>
                    </div>
                `;
                donationsList.appendChild(card);
            });
        }

        // Modal functions
        function openModal(type) {
            if (type === 'donate') {
                document.getElementById('donateModal').style.display = 'block';
                initMap('donorMap');
            } else if (type === 'fetch') {
                document.getElementById('fetchModal').style.display = 'block';
                initMap('fetcherMap');
            } else if (type === 'tracking') {
                document.getElementById('trackingModal').style.display = 'block';
                initTrackingMap();
            } else if (type === 'login' || type === 'signup') {
                document.getElementById('authModal').style.display = 'block';
                document.getElementById('authModalTitle').textContent = type === 'login' ? 'Login' : 'Sign Up';
                switchAuthTab(type);
            }
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            if (modalId === 'trackingModal' && pickupInterval) {
                clearInterval(pickupInterval);
            }
        }

        function switchAuthTab(tab) {
            // Update tabs
            const tabs = document.querySelectorAll('.auth-tab');
            tabs.forEach(t => t.classList.remove('active'));
            
            if (tab === 'login') {
                document.querySelector('.auth-tab:nth-child(1)').classList.add('active');
                document.getElementById('loginForm').classList.add('active');
                document.getElementById('signupForm').classList.remove('active');
            } else {
                document.querySelector('.auth-tab:nth-child(2)').classList.add('active');
                document.getElementById('loginForm').classList.remove('active');
                document.getElementById('signupForm').classList.add('active');
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.className === 'modal') {
                event.target.style.display = 'none';
                if (event.target.id === 'trackingModal' && pickupInterval) {
                    clearInterval(pickupInterval);
                }
            }
        }

        // Initialize map with location search
        function initMap(mapId) {
            const mapElement = document.getElementById(mapId);
            
            // Initialize Leaflet map
            const map = L.map(mapId).setView([currentLocation.lat, currentLocation.lng], 13);
            
            // Add tile layer (OpenStreetMap)
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);
            
            // Add marker
            const marker = L.marker([currentLocation.lat, currentLocation.lng], {
                draggable: true
            }).addTo(map);
            
            marker.on('dragend', function(e) {
                const newPos = marker.getLatLng();
                currentLocation = { lat: newPos.lat, lng: newPos.lng };
                updateAddressFromCoordinates(mapId, newPos.lat, newPos.lng);
            });
            
            // Click event to add marker
            map.on('click', function(e) {
                marker.setLatLng(e.latlng);
                currentLocation = { lat: e.latlng.lat, lng: e.latlng.lng };
                updateAddressFromCoordinates(mapId, e.latlng.lat, e.latlng.lng);
            });
            
            // Try geolocation
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    currentLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    map.setView([currentLocation.lat, currentLocation.lng], 13);
                    marker.setLatLng([currentLocation.lat, currentLocation.lng]);
                    updateAddressFromCoordinates(mapId, currentLocation.lat, currentLocation.lng);
                });
            }
            
            // Store map reference
            if (mapId === 'donorMap') donorMap = map;
            else if (mapId === 'fetcherMap') fetcherMap = map;
            else if (mapId === 'trackingMap') trackingMap = map;
        }

        // Initialize tracking map with route visualization
        function initTrackingMap() {
            if (!trackingMap) {
                trackingMap = L.map('trackingMap').setView([currentLocation.lat, currentLocation.lng], 13);
                
                // Add tile layer (OpenStreetMap)
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(trackingMap);
            } else {
                trackingMap.setView([currentLocation.lat, currentLocation.lng], 13);
            }
            
            // Clear existing layers
            if (donorMarker) trackingMap.removeLayer(donorMarker);
            if (driverMarker) trackingMap.removeLayer(driverMarker);
            if (routePolyline) trackingMap.removeLayer(routePolyline);
            
            // Get the donation details
            const donation = sampleDonations.find(d => d.id == currentDonationId);
            if (!donation) return;
            
            // Add donor location marker
            donorMarker = L.marker([donation.location.lat, donation.location.lng], {
                icon: L.divIcon({
                    className: 'donation-icon',
                    html: '<i class="fas fa-utensils"></i>',
                    iconSize: [30, 30]
                })
            }).addTo(trackingMap);
            donorMarker.bindPopup("Donation Location").openPopup();
            
            // Add driver marker
            driverMarker = L.marker([currentVolunteer.location.lat, currentVolunteer.location.lng], {
                icon: L.divIcon({
                    className: 'driver-icon',
                    html: '<i class="fas fa-truck"></i>',
                    iconSize: [30, 30]
                })
            }).addTo(trackingMap);
            driverMarker.bindPopup("Volunteer: " + currentVolunteer.name);
            
            // Add route polyline (simplified for demo)
            const routeCoordinates = [
                [currentVolunteer.location.lat, currentVolunteer.location.lng],
                [
                    (currentVolunteer.location.lat + donation.location.lat) / 2,
                    (currentVolunteer.location.lng + donation.location.lng) / 2
                ],
                [donation.location.lat, donation.location.lng]
            ];
            
            routePolyline = L.polyline(routeCoordinates, {
                color: '#4CAF50',
                weight: 5,
                opacity: 0.7,
                dashArray: '10, 10'
            }).addTo(trackingMap);
            
            // Fit map to show both points
            trackingMap.fitBounds([
                [donation.location.lat, donation.location.lng],
                [currentVolunteer.location.lat, currentVolunteer.location.lng]
            ]);
            
            // Calculate and display distance
            const distance = calculateDistance(
                currentVolunteer.location.lat, 
                currentVolunteer.location.lng,
                donation.location.lat,
                donation.location.lng
            );
            
            document.getElementById('routeDistance').textContent = `Distance: ${distance.toFixed(1)} km`;
            document.getElementById('routeTime').textContent = `Estimated time: ${Math.round(distance * 3)} minutes`;
            
            // Update volunteer info
            document.getElementById('driverName').textContent = currentVolunteer.name;
            document.getElementById('driverPhone').innerHTML = `<i class="fas fa-phone"></i> <a href="tel:${currentVolunteer.phone}">${currentVolunteer.phone}</a>`;
            
            // Update donation info
            document.getElementById('trackingFoodDetails').textContent = 
                `${donation.title} (${donation.quantity} servings)`;
            document.getElementById('trackingAddress').textContent = donation.address;
            
            // Start simulating driver movement
            simulateDriverMovement(donation.location);
        }

        // Simulate driver moving towards donation location
        function simulateDriverMovement(destination) {
            if (pickupInterval) clearInterval(pickupInterval);
            
            let step = 0;
            const totalSteps = 100;
            const startLat = currentVolunteer.location.lat;
            const startLng = currentVolunteer.location.lng;
            const latDiff = destination.lat - startLat;
            const lngDiff = destination.lng - startLng;
            
            pickupInterval = setInterval(() => {
                step += 1;
                if (step >= totalSteps) {
                    clearInterval(pickupInterval);
                    document.getElementById('trackingStatus').textContent = 'Arrived at location';
                    return;
                }
                
                // Calculate intermediate position
                const progress = step / totalSteps;
                const lat = startLat + (latDiff * progress);
                const lng = startLng + (lngDiff * progress);
                
                // Update driver position
                driverMarker.setLatLng([lat, lng]);
                
                // Update route polyline
                const remainingRoute = [
                    [lat, lng],
                    [
                        lat + (latDiff * (1 - progress)) * 0.5,
                        lng + (lngDiff * (1 - progress)) * 0.5
                    ],
                    [destination.lat, destination.lng]
                ];
                
                trackingMap.removeLayer(routePolyline);
                routePolyline = L.polyline(remainingRoute, {
                    color: '#4CAF50',
                    weight: 5,
                    opacity: 0.7,
                    dashArray: '10, 10'
                }).addTo(trackingMap);
                
                // Update status based on progress
                if (progress < 0.3) {
                    document.getElementById('trackingStatus').textContent = 'On the way';
                } else if (progress < 0.7) {
                    document.getElementById('trackingStatus').textContent = 'Nearby';
                } else {
                    document.getElementById('trackingStatus').textContent = 'Almost there';
                }
                
                // Update estimated time
                const remainingDistance = calculateDistance(lat, lng, destination.lat, destination.lng);
                document.getElementById('routeTime').textContent = `Estimated time: ${Math.max(1, Math.round(remainingDistance * 3))} minutes`;
                
            }, 500);
        }

        // Calculate distance between two points in km
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // Radius of the earth in km
            const dLat = deg2rad(lat2 - lat1);
            const dLon = deg2rad(lon2 - lon1);
            const a = 
                Math.sin(dLat/2) * Math.sin(dLat/2) +
                Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * 
                Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }

        function deg2rad(deg) {
            return deg * (Math.PI/180);
        }

        // Location search function
        function searchLocation(mapId) {
            const searchInput = document.getElementById(mapId + 'LocationSearch');
            const query = searchInput.value;
            
            if (!query) return;
            
            // In a real app, you would use a geocoding service like Nominatim
            // This is a simplified version for demo purposes
            const map = mapId === 'donorMap' ? donorMap : 
                        mapId === 'fetcherMap' ? fetcherMap : 
                        trackingMap;
            
            // Simulate search with a delay
            setTimeout(() => {
                // For demo, we'll just use the current location with a small offset
                const newLocation = {
                    lat: currentLocation.lat + (Math.random() * 0.02 - 0.01),
                    lng: currentLocation.lng + (Math.random() * 0.02 - 0.01)
                };
                
                map.setView([newLocation.lat, newLocation.lng], 15);
                
                // Update marker if this is the donor map
                if (mapId === 'donorMap' && donorMap) {
                    const markers = donorMap._layers;
                    for (const key in markers) {
                        if (markers[key].dragging && markers[key].dragging.enabled()) {
                            markers[key].setLatLng(newLocation);
                            currentLocation = newLocation;
                            updateAddressFromCoordinates(mapId, newLocation.lat, newLocation.lng);
                            break;
                        }
                    }
                }
                
                searchInput.value = `Near ${query} (demo location)`;
            }, 1000);
        }

        // Update address from coordinates (simplified for demo)
        function updateAddressFromCoordinates(mapId, lat, lng) {
            if (mapId === 'donorMap') {
                document.getElementById('donorAddress').value = `Approximate address at ${lat.toFixed(4)}, ${lng.toFixed(4)}`;
            }
        }

        // Start tracking a donation pickup
        function startTracking(donationId) {
            currentDonationId = donationId;
            openModal('tracking');
        }

        function completePickup() {
            alert('Thank you! The food pickup has been completed successfully.');
            closeModal('trackingModal');
            if (pickupInterval) clearInterval(pickupInterval);
        }

        function cancelPickup() {
            if (confirm('Are you sure you want to cancel this pickup?')) {
                alert('Pickup canceled. The volunteer has been notified.');
                closeModal('trackingModal');
                if (pickupInterval) clearInterval(pickupInterval);
            }
        }

        function changeVolunteer() {
            // Find current volunteer index
            const currentIndex = volunteers.findIndex(v => v.id === currentVolunteer.id);
            // Get next volunteer (or first if at end)
            const nextIndex = (currentIndex + 1) % volunteers.length;
            currentVolunteer = volunteers[nextIndex];
            
            // Reinitialize tracking with new volunteer
            initTrackingMap();
            
            alert(`Volunteer changed to ${currentVolunteer.name} (${currentVolunteer.vehicle}). They will arrive shortly.`);
        }

        // Contact functions
        function sendEmail() {
            const email = 'aswinsaravanan.k@gmail.com';
            const subject = 'Inquiry from ShareBite Website';
            const message = prompt('Enter your message for ShareBite:', 'Hello ShareBite team, I would like to know more about...');
            
            if (message) {
                window.location.href = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(message)}`;
            }
        }

        function openWhatsApp() {
            const phone = '7871043692'; // Without + or 00
            const message = prompt('Enter your message for ShareBite:', 'Hello ShareBite team, I would like to know more about...');
            
            if (message) {
                window.open(`https://wa.me/${phone}?text=${encodeURIComponent(message)}`, '_blank');
            }
        }

        // Auth functions
        function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Simple validation
            if (!email || !password) {
                alert('Please fill in all fields');
                return;
            }
            
            // In a real app, you would make an API call here
            // Simulate successful login
            setTimeout(() => {
                isLoggedIn = true;
                alert('Login successful!');
                closeModal('authModal');
                updateAuthUI();
            }, 500);
        }

        function handleSignup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const phone = document.getElementById('signupPhone').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            const userType = document.getElementById('userType').value;
            
            // Simple validation
            if (!name || !email || !phone || !password || !confirmPassword || !userType) {
                alert('Please fill in all fields');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            // In a real app, you would make an API call here
            // Simulate successful signup
            setTimeout(() => {
                isLoggedIn = true;
                alert('Account created successfully! You are now logged in.');
                closeModal('authModal');
                updateAuthUI();
            }, 500);
        }

        function updateAuthUI() {
            if (isLoggedIn) {
                // Hide auth buttons and show user profile (in a real app)
                document.querySelector('.auth-buttons').style.display = 'none';
                // You would add code here to show user profile/avatar
            } else {
                document.querySelector('.auth-buttons').style.display = 'flex';
            }
        }

        // Donation functions
        async function handleDonation() {
            const donationData = {
                name: document.getElementById('donorName').value,
                email: document.getElementById('donorEmail').value,
                phone: document.getElementById('donorPhone').value,
                foodType: document.getElementById('foodType').value,
                quantity: document.getElementById('foodQuantity').value,
                pickupTime: document.getElementById('pickupTime').value,
                address: document.getElementById('donorAddress').value,
                location: currentLocation
            };

            try {
                // Simulate API response
                const data = {
                    success: true,
                    donation: {
                        ...donationData,
                        id: Math.floor(Math.random() * 1000),
                        image: sampleDonations[0].image, // Just for demo
                        title: `${donationData.foodType} Food (${donationData.quantity} servings)`,
                        distance: "0 km",
                        time: `Available until ${new Date(donationData.pickupTime).toLocaleTimeString()}`,
                        donorName: donationData.name,
                        donorPhone: donationData.phone,
                        donorEmail: donationData.email
                    }
                };

                if (data.success) {
                    alert('Thank you for your donation! We will notify you when someone requests to pick up the food.');
                    closeModal('donateModal');
                    // Add to local donations list
                    sampleDonations.unshift(data.donation);
                    renderDonations();
                }
            } catch (err) {
                console.error('Donation error:', err);
                alert('There was an error submitting your donation. Please try again.');
            }
        }

        async function handleFetcher() {
            const fetcherData = {
                name: document.getElementById('fetcherName').value,
                email: document.getElementById('fetcherEmail').value,
                phone: document.getElementById('fetcherPhone').value,
                organization: document.getElementById('fetcherOrg').value,
                address: document.getElementById('fetcherAddress').value,
                location: currentLocation
            };

            try {
                // Simulate API response
                const data = {
                    success: true,
                    nearbyDonations: sampleDonations
                };

                if (data.success) {
                    alert('We found some donations near you! Check the donations section.');
                    closeModal('fetchModal');
                    renderDonations(data.nearbyDonations);
                }
            } catch (err) {
                console.error('Fetcher registration error:', err);
                alert('There was an error finding donations. Please try again.');
            }
        }
    </script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
</body>
</html>